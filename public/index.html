<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BILT 2.0 Card Strategy</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <header>
        <h1>BILT <span>2.0</span> <span data-i18n="site_title">Card Strategy</span></h1>
        <div class="header-buttons">
            <a href="https://buymeacoffee.com/myeongchanv" target="_blank" rel="noopener" class="bmc-btn" title="Even $3 helps! Thank you!">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.216 6.415l-.132-.666c-.119-.598-.388-1.163-1.001-1.379-.197-.069-.42-.098-.57-.241-.152-.143-.196-.366-.231-.572-.065-.378-.125-.756-.192-1.133-.057-.325-.102-.69-.25-.987-.195-.4-.597-.634-.996-.788a5.723 5.723 0 00-.626-.194c-1-.263-2.05-.36-3.077-.416a25.834 25.834 0 00-3.7.062c-.915.083-1.88.184-2.75.5-.318.116-.646.256-.888.501-.297.302-.393.77-.177 1.146.154.267.415.456.692.58.36.162.737.284 1.123.366 1.075.238 2.189.331 3.287.37 1.218.05 2.437.01 3.65-.118.299-.033.598-.073.896-.119.352-.054.578-.513.474-.834-.124-.383-.457-.531-.834-.473-.466.074-.96.108-1.382.146-1.177.08-2.358.082-3.536.006a22.228 22.228 0 01-1.157-.107c-.086-.01-.18-.025-.258-.036-.243-.036-.484-.08-.724-.13-.111-.027-.111-.185 0-.212h.005c.277-.06.557-.108.838-.147h.002c.131-.009.263-.032.394-.048a25.076 25.076 0 013.426-.12c.674.019 1.347.067 2.017.144l.228.031c.267.04.533.088.798.145.392.085.895.113 1.07.542.055.137.08.288.111.431l.319 1.484a.237.237 0 01-.199.284h-.003c-.037.006-.075.01-.112.015a36.704 36.704 0 01-4.743.295 37.059 37.059 0 01-4.699-.304c-.14-.017-.293-.042-.417-.06-.326-.048-.649-.108-.973-.161-.393-.065-.768-.032-1.123.161-.29.16-.527.404-.675.701-.154.316-.199.66-.267 1-.069.34-.176.707-.135 1.056.087.753.613 1.365 1.37 1.502a39.69 39.69 0 0011.343.376.483.483 0 01.535.53l-.071.697-1.018 9.907c-.041.41-.047.832-.125 1.237-.122.637-.553 1.028-1.182 1.171-.577.131-1.165.2-1.756.205-.656.004-1.31-.025-1.966-.022-.699.004-1.556-.06-2.095-.58-.475-.458-.54-1.174-.605-1.793l-.731-7.013-.322-3.094c-.037-.351-.286-.695-.678-.678-.336.015-.718.3-.678.679l.228 2.185.949 9.112c.147 1.344 1.174 2.068 2.446 2.272.742.12 1.503.144 2.257.156.966.016 1.942.053 2.892-.122 1.408-.258 2.465-1.198 2.616-2.657.34-3.332.663-6.66.992-9.992l.154-1.5.559-5.399a.48.48 0 01.576-.418c.422.056.846.1 1.27.12.16.009.32.007.48.007.082 0 .164 0 .246-.003h.005c.463-.01.808-.33.882-.772.059-.366.05-.755-.027-1.118l-.002-.003z"/>
                </svg>
                <span>$3 Coffee?</span>
            </a>
            <button class="lang-toggle" id="langToggle">English</button>
        </div>
    </header>

    <div class="container">
        <!-- Calculator Section -->
        <div class="calc-section">
            <div class="panel">
                <div class="panel-header" data-i18n="calculator">Calculator</div>
                <div class="calc-content">
                    <!-- 2D Input Selector -->
                    <div class="input-2d-container">
                        <div class="input-2d-header">
                            <h3 data-i18n="spend_settings">Spend Settings</h3>
                        </div>
                        <div class="input-2d-row">
                            <div class="input-2d-left">
                                <div class="input-2d-wrapper">
                                    <div class="input-2d-y-label"><span data-i18n="housing_short">Housing</span> &rarr;</div>
                                    <div class="input-2d-main">
                                        <div class="input-2d-area-wrapper">
                                            <div class="input-2d-y-scale">
                                                <span>$5k</span>
                                                <span>$4k</span>
                                                <span>$3k</span>
                                                <span>$2k</span>
                                                <span>$1k</span>
                                                <span>$0</span>
                                            </div>
                                            <div class="input-2d-area" id="input2dArea">
                                                <div class="input-2d-crosshair-h" id="crosshairH"></div>
                                                <div class="input-2d-crosshair-v" id="crosshairV"></div>
                                                <div class="input-2d-point" id="input2dPoint"></div>
                                            </div>
                                        </div>
                                        <div class="input-2d-scale">
                                            <span>$0</span>
                                            <span>$1k</span>
                                            <span>$2k</span>
                                            <span>$3k</span>
                                        </div>
                                        <div class="input-2d-x-label"><span data-i18n="everyday_spend_short">Everyday Spend</span> &rarr;</div>
                                    </div>
                                </div>
                            </div>
                            <div class="input-2d-right">
                                <div class="manual-input-group">
                                    <label class="label-with-help">
                                        <span data-i18n="monthly_housing">Monthly Housing</span>
                                        <button class="help-btn" type="button">?
                                            <div class="tooltip" data-i18n-html="tooltip_housing_input"><strong>Bilt Housing Payments</strong><br>Rent or mortgage paid through Bilt App<br><br><strong>Also includes:</strong><br>- HOA dues<br>- Utilities<br>- Property taxes<br>- Amenity fees<br>- Gym fees</div>
                                        </button>
                                    </label>
                                    <input type="number" id="housingCost" value="2500" min="0" max="10000" step="50">
                                </div>
                                <div class="manual-input-group">
                                    <label class="label-with-help">
                                        <span data-i18n="monthly_everyday">Monthly Everyday Spend</span>
                                        <button class="help-btn" type="button">?
                                            <div class="tooltip" data-i18n-html="tooltip_everyday_input"><strong>Amount you plan to spend with Bilt Card</strong><br>All purchases except housing payments<br><br><strong>Excludes:</strong><br>- Gift cards, prepaid cards<br>- P2P (Venmo, PayPal, Zelle)<br>- Crypto purchases<br>- Cash advances</div>
                                        </button>
                                    </label>
                                    <input type="number" id="everydaySpend" value="500" min="0" max="10000" step="50">
                                </div>
                            </div>
                            <div class="input-2d-cards">
                                <h4 data-i18n="card_selection">Card Selection</h4>
                                <div class="card-options-vertical">
                                    <div class="radio-option">
                                        <input type="radio" name="card" id="cardBlue" value="blue">
                                        <label for="cardBlue">Blue <span class="card-fee">$0</span></label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="card" id="cardObsidian" value="obsidian">
                                        <label for="cardObsidian">Obsidian <span class="card-fee">$95</span></label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="card" id="cardPalladium" value="palladium" checked>
                                        <label for="cardPalladium">Palladium <span class="card-fee">$495</span></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="radio-group">
                        <h3 data-i18n="reward_option">Reward Option</h3>
                        <div class="radio-options">
                            <div class="radio-option">
                                <input type="radio" name="option" id="optionHousing" value="housing">
                                <label for="optionHousing">
                                    <span data-i18n="housing_only">Housing-only</span>
                                    <div class="card-info" data-i18n="housing_only_desc">Auto 0X~1.25X</div>
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="option" id="optionFlexible" value="flexible" checked>
                                <label for="optionFlexible">
                                    <span data-i18n="flexible_cash">Flexible Cash</span>
                                    <div class="card-info" data-i18n="flexible_cash_desc">4% Cash + Max 1X</div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="results">
                        <h3 data-i18n="results">Results</h3>
                        <div class="result-grid">
                            <div class="result-item">
                                <div class="label label-with-help">
                                    <span data-i18n="monthly_housing_points">Monthly Housing Points</span>
                                    <button class="help-btn" type="button">?
                                        <div class="tooltip" data-i18n-html="tooltip_housing_points"><strong>Housing-only:</strong> Housing x Multiplier (0~1.25X)<br>Multiplier determined by Everyday Spend Ratio<br><br><strong>Flexible:</strong> Unlock with Bilt Cash<br>$3 Cash = 100 points (max 1X)</div>
                                    </button>
                                </div>
                                <div class="value" id="monthlyHousingPoints">-</div>
                            </div>
                            <div class="result-item">
                                <div class="label label-with-help">
                                    <span data-i18n="monthly_everyday_points">Monthly Everyday Points</span>
                                    <button class="help-btn" type="button">?
                                        <div class="tooltip" data-i18n-html="tooltip_everyday_points"><strong>Blue:</strong> Everyday Spend x 1X<br><strong>Obsidian:</strong> Avg 1.5X (Travel 2X, Dining/Grocery 3X)<br><strong>Palladium:</strong> Everyday Spend x 2X</div>
                                    </button>
                                </div>
                                <div class="value" id="monthlyEverydayPoints">-</div>
                            </div>
                            <div class="result-item">
                                <div class="label label-with-help">
                                    <span data-i18n="monthly_bilt_cash">Monthly Bilt Cash</span>
                                    <button class="help-btn" type="button">?
                                        <div class="tooltip" data-i18n-html="tooltip_monthly_cash"><strong>Flexible option only</strong><br>Everyday Spend x 4% = Bilt Cash<br><br>No Bilt Cash earned with Housing-only option</div>
                                    </button>
                                </div>
                                <div class="value" id="monthlyBiltCash">-</div>
                            </div>
                            <div class="result-item">
                                <div class="label label-with-help">
                                    <span data-i18n="remaining_bilt_cash">Remaining Bilt Cash</span>
                                    <button class="help-btn" type="button">?
                                        <div class="tooltip" data-i18n-html="tooltip_remaining_cash">Remaining Bilt Cash after unlocking housing points<br><br><strong>Calculation:</strong> Monthly Cash - (Unlocked Points / 100 x $3)<br><br>Remaining Cash can be used for other purposes</div>
                                    </button>
                                </div>
                                <div class="value" id="remainingBiltCash">-</div>
                            </div>
                            <div class="result-item full-width">
                                <div class="label label-with-help">
                                    <span data-i18n="annual_total_value">Annual Total Value (Est.)</span>
                                    <button class="help-btn" type="button">?
                                        <div class="tooltip" data-i18n-html="tooltip_annual_value"><strong>Formula:</strong><br>(Annual Points x $0.015) + Annual Remaining Cash + Annual Benefits - Annual Fee<br><br><strong>Point Value:</strong> 1 point = 1.5 cents (conservative)<br><strong>Annual Benefits:</strong> Obsidian $100, Palladium $600</div>
                                    </button>
                                </div>
                                <div class="value" id="annualValue">-</div>
                            </div>
                        </div>
                        <div class="result-breakdown">
                            <div class="breakdown-item">
                                <span class="label label-with-help">
                                    <span data-i18n="everyday_spend_ratio">Everyday Spend Ratio</span>
                                    <button class="help-btn" type="button">?
                                        <div class="tooltip" data-i18n-html="tooltip_spend_ratio">Everyday Spend / Housing x 100%<br><br>Determines housing points multiplier in Housing-only option</div>
                                    </button>
                                </span>
                                <span class="value" id="spendRatio">-</span>
                            </div>
                            <div class="breakdown-item">
                                <span class="label label-with-help">
                                    <span data-i18n="housing_only_multiplier">Housing-only Multiplier</span>
                                    <button class="help-btn" type="button">?
                                        <div class="tooltip" data-i18n-html="tooltip_multiplier"><strong>Multiplier by Ratio:</strong><br>Under 25%: 0X (min 250pt)<br>25~50%: 0.5X<br>50~75%: 0.75X<br>75~100%: 1X<br>100%+: 1.25X</div>
                                    </button>
                                </span>
                                <span class="value" id="housingMultiplier">-</span>
                            </div>
                            <div class="breakdown-item">
                                <span class="label label-with-help">
                                    <span data-i18n="annual_points_total">Annual Points Total</span>
                                    <button class="help-btn" type="button">?
                                        <div class="tooltip" data-i18n-html="tooltip_annual_points">(Monthly Housing Points + Monthly Everyday Points) x 12 months</div>
                                    </button>
                                </span>
                                <span class="value" id="annualPoints">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="comparison">
                        <h3 data-i18n="card_comparison">Card Comparison (Annual)</h3>
                        <div class="comparison-grid" id="comparisonGrid">
                            <!-- Filled by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Section -->
        <div class="chat-section" id="chatSection">
            <div class="panel chat-panel">
                <div class="chat-header">
                    <div class="chat-header-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="#ffd700">
                            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12z"/>
                        </svg>
                        <span data-i18n="ai_assistant">AI Assistant</span>
                    </div>
                    <button class="toggle-btn" type="button">
                        <svg viewBox="0 0 24 24">
                            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                        </svg>
                    </button>
                </div>
                <div class="chat-content">
                    <div class="api-key-section">
                        <input type="password" id="apiKey" data-i18n-placeholder="enter_api_key" placeholder="Enter Gemini API Key">
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="welcome-message">
                            <h2 data-i18n="card_helper">Bilt Card Helper</h2>
                            <p data-i18n="ask_questions">Ask about card selection and reward options.</p>
                            <div class="quick-questions">
                                <button class="quick-question" data-question-key="q_best_card" type="button">Which card is best for me?</button>
                                <button class="quick-question" data-question-key="q_option_diff" type="button">Difference between Housing-only and Flexible?</button>
                                <button class="quick-question" data-question-key="q_current_value" type="button">Which option is better for my values?</button>
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" id="chatInput" data-i18n-placeholder="enter_question" placeholder="Enter your question...">
                        <button id="sendBtn" data-i18n="send" type="button">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/i18n.js"></script>
    <script src="/js/calculator.js"></script>
    <script src="/js/input2d.js"></script>
    <script src="/js/chat.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>
